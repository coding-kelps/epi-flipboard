generator client {
  provider   = "prisma-client"
  output     = "../../app/generated/prisma-activity"
  engineType = "client"
}

datasource db {
  provider = "postgresql"
}

model Feed {
  id          Int      @id @default(autoincrement()) @map("feed_id")
  name        String   @unique
  description String?
  tagIds      BigInt[]    @map("tag_ids")
  publisherIds BigInt[]   @map("publisher_ids")
  userId      Int      @map("user_id")
  createdAt   DateTime @default(now()) @db.Timestamptz(6)

  @@map("feeds")
}

model Comment {
  id        Int      @id @default(autoincrement()) @map("comment_id")
  content   String
  articleId BigInt   @map("article_id")
  userId    Int      @map("user_id")
  createdAt DateTime @default(now()) @db.Timestamptz(6) @map("created_at")

  @@map("comments")
  @@index([articleId])
}

model MarkedArticle {
  id        Int      @id @default(autoincrement()) @map("id")
  userId    Int      @map("user_id")
  articleId BigInt   @map("article_id")
  createdAt DateTime @default(now()) @db.Timestamptz(6) @map("created_at")

  @@map("marked_articles")
  @@unique([userId, articleId])
  @@index([userId])
}

model FollowedFeed {
  id        Int      @id @default(autoincrement())
  userId    Int      @map("user_id")
  feedId    Int      @map("feed_id")
  lastVisit DateTime @default(now()) @db.Timestamptz(6) @map("last_visit")
  createdAt DateTime @default(now()) @db.Timestamptz(6) @map("created_at")

  @@unique([userId, feedId])
  @@map("followed_feeds")
}
